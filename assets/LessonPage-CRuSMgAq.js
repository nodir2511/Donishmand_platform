const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SlidesViewer-CsEjP31o.js","assets/index-DRfO7QNx.js","assets/index-CBc2x8US.css","assets/katex-BMcjISZR.js","assets/chevron-left-DH9hOaJo.js","assets/TestViewer-D_2CaH24.js","assets/check-circle-DbkDMSwU.js","assets/lock-CSFYjScz.js","assets/alert-triangle-BhOJVak3.js","assets/CourseLayout-p4e9S4D6.js","assets/SyllabusContext-x_XbzDWO.js","assets/home-C7kFw3rz.js","assets/video-GjhmAmWB.js","assets/eye-DijbaegS.js","assets/TestTeacherView-C_q9QSVK.js","assets/eye-off-DyCTa7pX.js"])))=>i.map(i=>d[i]);
import{e as Me,u as qe,a as Je,b as Ue,r as g,c as Be,j as e,L as ke,C as Xe,R as K,_ as te}from"./index-DRfO7QNx.js";import{C as Ye}from"./CourseLayout-p4e9S4D6.js";import{F as Te,s as Se}from"./SyllabusContext-x_XbzDWO.js";import{k as Ce,C as b}from"./katex-BMcjISZR.js";import{V as ze,P as D,C as Qe}from"./video-GjhmAmWB.js";import{C as _e}from"./chevron-left-DH9hOaJo.js";import{C as $e,A as R}from"./check-circle-DbkDMSwU.js";import{E as se}from"./eye-DijbaegS.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),es=s=>{if(!s||typeof s!="string")return s;let v=s.replace(/\$\$([^$]+?)\$\$/g,(d,l)=>{try{return Ce.renderToString(l.trim(),{displayMode:!0,throwOnError:!1,output:"html"})}catch(p){return console.warn("Ошибка рендеринга KaTeX:",p),d}});return v=v.replace(/\$([^$]+?)\$/g,(d,l)=>{try{return Ce.renderToString(l.trim(),{displayMode:!1,throwOnError:!1,output:"html"})}catch(p){return console.warn("Ошибка рендеринга KaTeX:",p),d}}),v},ss=K.lazy(()=>te(()=>import("./SlidesViewer-CsEjP31o.js"),__vite__mapDeps([0,1,2,3,4]))),ts=K.lazy(()=>te(()=>import("./TestViewer-D_2CaH24.js"),__vite__mapDeps([5,1,2,6,7,4,8,9,10,11,3,12,13]))),is=K.lazy(()=>te(()=>import("./TestTeacherView-C_q9QSVK.js"),__vite__mapDeps([14,1,2,15,13,6,9,10,11,3,12,4]))),z=(s,v)=>`progress_${s}_${v}`,rs=()=>{var xe,me,ge,he,ue,pe,be,fe,je,ve,we,ye,Ne;const{t:s,i18n:v}=qe(),d=v.resolvedLanguage||"ru",{lessonId:l}=Je(),p=Ue(),Re=80,[F,q]=g.useState(!0),[y,ie]=g.useState(null),[i,I]=g.useState(()=>({videoWatched:localStorage.getItem(z(l,"video"))==="true",textRead:localStorage.getItem(z(l,"text"))==="true",slidesViewed:JSON.parse(localStorage.getItem(z(l,"slides"))||"[]"),testHistory:JSON.parse(localStorage.getItem(`test_history_${l}`)||"[]")})),[_,L]=g.useState("video"),[J,V]=g.useState(!1),[U,B]=g.useState(!1),[Ie,X]=g.useState(!1),{isTeacher:Le,isAdmin:Ve}=Be(),a=Le||Ve;g.useEffect(()=>{(async()=>{q(!0);try{const r=await Se.getLesson(l,d);if(!r){ie(null),q(!1);return}const x=r.subject;let w=null;if(x){const T=await Se.getStructure(x);if(T&&T.sections)for(let S=0;S<T.sections.length;S++){const j=T.sections[S];if(j.topics){for(let C=0;C<j.topics.length;C++){const O=j.topics[C];if(!O.lessons)continue;const ee=O.lessons.findIndex(Fe=>Fe.id===l);if(ee!==-1){w={lesson:{...r,...O.lessons[ee],content:r.content},topic:O,section:j,subjectKey:x,lessonIndex:ee,topicIndex:C,sectionIndex:S};break}}if(w)break}}}ie(w||{lesson:r,subjectKey:x})}catch(r){console.error("Error fetching lesson:",r)}finally{q(!1)}})()},[l,d]);const c=((xe=y==null?void 0:y.lesson)==null?void 0:xe.content)||{},N=d==="tj"?((me=c.video)==null?void 0:me.urlTj)||((ge=c.video)==null?void 0:ge.url):((he=c.video)==null?void 0:he.url)||((ue=c.video)==null?void 0:ue.urlTj),h=!!N,u=!!((pe=c.text)!=null&&pe.bodyRu||(be=c.text)!=null&&be.bodyTj),E=d==="tj"?c.slidesTj||[]:c.slidesRu||[],m=E.length>0,Y=((je=(fe=c.test)==null?void 0:fe.questions)==null?void 0:je.length)>0,Ee=h||u||m,re=((ve=c.test)==null?void 0:ve.questions)||[],n=g.useMemo(()=>{if(!i.testHistory||i.testHistory.length===0)return null;const t=i.testHistory.length,r=Math.max(...i.testHistory.map(j=>j.score)),x=i.testHistory.reduce((j,C)=>j+C.score,0)/t,w=Math.round(100-x),T=i.testHistory[i.testHistory.length-1].timestamp,S=r>=Re;return{totalAttempts:t,bestScore:r,avgErrorRate:w,lastAttemptAt:T,isPassed:S}},[i.testHistory]),$=E.length,P=i.slidesViewed.length,f=$>0?P>=$:!0,Pe=!h||i.videoWatched,Ae=!u||i.textRead,Q=a||Pe&&Ae&&(!m||f),G=[h,u,m,Y].filter(Boolean).length;let k=0;h&&i.videoWatched&&k++,u&&i.textRead&&k++,m&&f&&k++,Y&&(n!=null&&n.isPassed)&&k++;const ne=G>0?Math.round(k/G*100):0;g.useEffect(()=>{!F&&y&&(h?L("video"):u?L("text"):m&&L("slides"))},[F,h,u,m]);const A=()=>{a||(localStorage.setItem(z(l,"video"),"true"),I(t=>({...t,videoWatched:!0})))},le=()=>{a||i.textRead||(localStorage.setItem(z(l,"text"),"true"),I(t=>({...t,textRead:!0})))},oe=t=>{if(a)return;const r=[...new Set([...i.slidesViewed,t])];localStorage.setItem(z(l,"slides"),JSON.stringify(r)),I(x=>({...x,slidesViewed:r}))},He=()=>{Q?X(!0):B(!0)},We=t=>{const r=JSON.parse(localStorage.getItem(`test_history_${l}`)||"[]");I(x=>({...x,testHistory:r}))};if(g.useEffect(()=>{const t=r=>{r.key==="Escape"&&(U&&B(!1),J&&V(!1))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[U,J]),F)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gaming-bg",children:e.jsx(ke,{size:40,className:"text-gaming-primary animate-spin"})});if(!y)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center text-white bg-gaming-bg",children:[e.jsx("h2",{className:"text-2xl mb-4",children:s("lesson.notFound")}),e.jsx("button",{onClick:()=>p(-1),className:"text-gaming-primary hover:underline",children:s("lesson.back")})]});const{lesson:Oe,topic:o,section:H,subjectKey:Z,lessonIndex:W,sectionIndex:De,topicIndex:Ke}=y,ae=t=>d==="tj"&&t.titleTj?t.titleTj:t.title,de=(we=o==null?void 0:o.lessons)==null?void 0:we[W-1],ce=(ye=o==null?void 0:o.lessons)==null?void 0:ye[W+1],M=[];return h&&M.push({id:"video",icon:ze,label:"lesson.video",complete:i.videoWatched}),u&&M.push({id:"text",icon:Te,label:"lesson.text",complete:i.textRead}),m&&M.push({id:"slides",icon:D,label:"lesson.slides",complete:f}),e.jsxs(Ye,{subjectId:Z,children:[e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs("header",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>{Z&&(H!=null&&H.id)&&(o!=null&&o.id)?p(`/subject/${Z}/section/${H.id}/topic/${o.id}`):p(-1)},className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-gaming-textMuted hover:text-white transition-all mb-4 group w-fit",children:[e.jsx(_e,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"text-sm font-medium",children:s("lesson.backToTopic")})]}),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gaming-textMuted mb-1",children:[s("lesson.lesson")," ",W+1," / ",((Ne=o==null?void 0:o.lessons)==null?void 0:Ne.length)||0]}),e.jsxs("h1",{className:"text-3xl font-bold mb-2 text-gaming-pink",children:[W+1,". ",ae(Oe)]}),o&&e.jsx("p",{className:"text-gaming-textMuted flex items-center gap-2 text-sm",children:e.jsxs("span",{children:[De+1,".",Ke+1,". ",ae(o)]})})]}),a&&e.jsx("div",{className:"px-3 py-1 bg-gaming-pink text-white text-xs font-bold rounded-full uppercase tracking-wider animate-pulse",children:s("lesson.teacherMode")})]})]}),!a&&e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gaming-primary/20 to-gaming-pink/20 backdrop-blur-xl border border-white/10 rounded-2xl p-6 relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg mb-1",children:s("lesson.progress")}),e.jsxs("p",{className:"text-gaming-textMuted text-sm",children:[k," / ",G," ",s("lesson.stepsCompleted")]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-3xl font-bold text-gaming-primary",children:[ne,"%"]})})]}),e.jsx("div",{className:"w-full h-3 bg-black/30 rounded-full mb-6 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-gaming-primary to-gaming-pink transition-all duration-1000 ease-out",style:{width:`${ne}%`}})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[h&&e.jsxs("div",{className:`p-4 rounded-xl border flex flex-col items-center justify-center gap-2 transition-colors ${i.videoWatched?"bg-green-500/10 border-green-500/30 text-green-400":"bg-white/5 border-white/10 text-gaming-textMuted"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${i.videoWatched?"bg-green-500/20":"bg-white/10"}`,children:i.videoWatched?e.jsx(b,{size:20}):e.jsx(ze,{size:20})}),e.jsx("span",{className:"font-medium text-sm",children:s("lesson.video")})]}),u&&e.jsxs("div",{className:`p-4 rounded-xl border flex flex-col items-center justify-center gap-2 transition-colors ${i.textRead?"bg-green-500/10 border-green-500/30 text-green-400":"bg-white/5 border-white/10 text-gaming-textMuted"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${i.textRead?"bg-green-500/20":"bg-white/10"}`,children:i.textRead?e.jsx(b,{size:20}):e.jsx(Te,{size:20})}),e.jsx("span",{className:"font-medium text-sm",children:s("lesson.text")})]}),m&&e.jsxs("div",{className:`p-4 rounded-xl border flex flex-col items-center justify-center gap-2 transition-colors ${f?"bg-green-500/10 border-green-500/30 text-green-400":"bg-white/5 border-white/10 text-gaming-textMuted"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${f?"bg-green-500/20":"bg-white/10"}`,children:f?e.jsx(b,{size:20}):e.jsx(D,{size:20})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-medium text-sm",children:s("lesson.slides")}),e.jsxs("span",{className:"text-xs opacity-70",children:[P,"/",$]})]})]}),Y&&e.jsxs("div",{className:`p-4 rounded-xl border flex flex-col items-center justify-center gap-2 transition-colors ${n!=null&&n.isPassed?"bg-green-500/10 border-green-500/30 text-green-400":"bg-white/5 border-white/10 text-gaming-textMuted"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n!=null&&n.isPassed?"bg-green-500/20":"bg-white/10"}`,children:n!=null&&n.isPassed?e.jsx(b,{size:20}):e.jsx($e,{size:20})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-medium text-sm",children:s("lesson.test")}),n&&e.jsxs("span",{className:"text-xs font-bold",children:[n.bestScore,"%"]})]})]})]})]}),n&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10 flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-white/5 rounded-xl border border-white/5",children:[e.jsx(Ze,{size:18,className:"text-gaming-gold"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-gaming-textMuted uppercase tracking-wider",children:s("lesson.attempts")}),e.jsx("div",{className:"font-bold text-white",children:n.totalAttempts})]})]}),e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-white/5 rounded-xl border border-white/5",children:[e.jsx(Ge,{size:18,className:"text-gaming-primary"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-gaming-textMuted uppercase tracking-wider",children:s("lesson.lastAttempt")}),e.jsx("div",{className:"font-bold text-white",children:n.lastAttemptAt?new Intl.DateTimeFormat(d==="tj"?"tg-TJ":"ru-RU",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}).format(new Date(n.lastAttemptAt)):"-"})]})]})]})]}),Ee?e.jsxs(e.Fragment,{children:[M.length>0&&e.jsx("div",{className:"flex gap-4 mb-6 border-b border-white/5 overflow-x-auto",children:M.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>L(t.id),className:`pb-3 px-2 text-base font-semibold transition-all relative flex items-center gap-2 whitespace-nowrap ${_===t.id?"text-white":"text-gaming-textMuted hover:text-white"}`,children:[e.jsx(r,{size:18}),s(t.label),t.complete&&!a&&e.jsx(b,{size:14,className:"text-green-400"}),_===t.id&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gaming-pink rounded-t-full shadow-[0_0_10px_rgba(236,72,153,0.5)]"})]},t.id)})}),e.jsxs("div",{className:"bg-gaming-card/40 backdrop-blur-xl rounded-2xl border border-white/5 p-6 mb-6 shadow-xl overflow-hidden relative group",children:[e.jsx("div",{className:"absolute -left-20 -top-20 w-64 h-64 bg-gaming-pink/5 rounded-full blur-3xl group-hover:bg-gaming-pink/10 transition-all duration-700"}),e.jsxs("div",{className:"relative z-10",children:[_==="video"&&h&&e.jsxs("div",{className:"aspect-video bg-black/60 rounded-xl flex flex-col items-center justify-center border border-white/10 shadow-inner overflow-hidden relative",children:[N.includes("youtube")||N.includes("youtu.be")?(()=>{const t=N.match(/(?:youtu\.be\/|youtube\.com\/(?:.*v=|.*\/|.*embed\/))([^&?]*)/),r=t?t[1]:null;return r?e.jsx("iframe",{src:`https://www.youtube.com/embed/${r}`,className:"w-full h-full",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:A}):e.jsxs("div",{className:"text-white text-center p-4",children:[e.jsx("p",{children:"Не удалось загрузить видео"}),e.jsx("a",{href:N,target:"_blank",rel:"noopener noreferrer",className:"text-gaming-primary hover:underline mt-2 inline-block",children:"Открыть на YouTube"})]})})():e.jsx("video",{src:N,controls:!0,className:"w-full h-full",onEnded:A,onPlay:()=>setTimeout(A,3e4)}),!i.videoWatched&&!a&&e.jsxs("button",{onClick:A,className:"absolute bottom-4 right-4 flex items-center gap-2 px-3 py-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors text-sm",children:[e.jsx(se,{size:16}),s("lesson.markAsWatched")]})]}),_==="text"&&u&&e.jsxs("div",{className:"prose prose-invert max-w-none prose-p:text-gaming-textMuted prose-headings:text-white prose-li:text-gaming-textMuted",onScroll:t=>{const{scrollTop:r,scrollHeight:x,clientHeight:w}=t.target;r+w>=x-50&&le()},children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:es(d==="tj"&&c.text.bodyTj||c.text.bodyRu)}}),!i.textRead&&!a&&e.jsxs("button",{onClick:le,className:"mt-4 flex items-center gap-2 px-3 py-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors text-sm",children:[e.jsx(se,{size:16}),s("lesson.markAsRead")]})]}),_==="slides"&&m&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-gaming-textMuted",children:[P," / ",$," ",s("lesson.slidesCount")]}),e.jsxs("button",{onClick:()=>V(!0),className:"flex items-center gap-2 px-4 py-2 bg-gaming-gold/20 text-gaming-gold rounded-xl hover:bg-gaming-gold/30 transition-colors",children:[e.jsx(D,{size:18}),s("lesson.openPresentation")]})]}),e.jsx("div",{className:"flex flex-col gap-6",children:E.map((t,r)=>e.jsxs("button",{onClick:()=>{oe(t.id),V(!0)},className:"relative w-full rounded-2xl overflow-hidden border border-white/5 hover:border-gaming-gold/30 transition-all group shadow-lg",children:[e.jsx("img",{src:t.imageUrl,alt:`Slide ${r+1}`,className:"w-full h-auto object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center backdrop-blur-sm",children:e.jsx("div",{className:"bg-black/60 p-3 rounded-full border border-white/20 transform scale-90 group-hover:scale-100 transition-transform",children:e.jsx(D,{size:24,className:"text-white"})})}),e.jsx("div",{className:"absolute top-4 left-4 bg-black/60 backdrop-blur px-3 py-1 rounded-full text-white font-bold text-sm border border-white/10",children:r+1}),(i.slidesViewed.includes(t.id)||a)&&e.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center shadow-lg animate-in fade-in zoom-in",children:e.jsx(b,{size:16,className:"text-white"})})]},t.id))})]})]})]})]}):e.jsxs("div",{className:"bg-gaming-card/40 backdrop-blur-xl rounded-2xl border border-white/5 p-8 mb-6 text-center",children:[e.jsx(Qe,{size:48,className:"mx-auto mb-4 text-gaming-primary opacity-50"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:s("lesson.testing")}),e.jsx("p",{className:"text-gaming-textMuted mb-4",children:s("lesson.onlyTest")})]}),U&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-gaming-card/95 backdrop-blur-xl rounded-2xl border border-red-500/30 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 text-red-400 mb-4",children:[e.jsx(R,{size:24}),e.jsx("h3",{className:"text-lg font-semibold",children:s("lesson.reviewMaterialsTitle")})]}),e.jsx("p",{className:"text-gaming-textMuted mb-4",children:s("lesson.reviewMaterialsText")}),e.jsxs("ul",{className:"space-y-2 mb-6",children:[h&&e.jsxs("li",{className:`flex items-center gap-2 ${i.videoWatched?"text-green-400":"text-red-400"}`,children:[i.videoWatched?e.jsx(b,{size:16}):e.jsx(R,{size:16}),s("lesson.video")]}),u&&e.jsxs("li",{className:`flex items-center gap-2 ${i.textRead?"text-green-400":"text-red-400"}`,children:[i.textRead?e.jsx(b,{size:16}):e.jsx(R,{size:16}),s("lesson.text")]}),m&&e.jsxs("li",{className:`flex items-center gap-2 ${f?"text-green-400":"text-red-400"}`,children:[f?e.jsx(b,{size:16}):e.jsx(R,{size:16}),s("lesson.slides")," (",P,"/",$,")"]})]}),e.jsx("button",{onClick:()=>B(!1),className:"w-full px-4 py-3 bg-gaming-primary text-white rounded-xl hover:bg-gaming-primary/80 transition-colors",children:s("lesson.understood")})]})}),e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex gap-2",children:[de&&e.jsxs("button",{onClick:()=>p(`/lesson/${de.id}`),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-gaming-textMuted hover:text-white transition-colors text-sm",children:[e.jsx(_e,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:s("lesson.prev")})]}),ce&&e.jsxs("button",{onClick:()=>p(`/lesson/${ce.id}`),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-gaming-textMuted hover:text-white transition-colors text-sm",children:[e.jsx("span",{className:"hidden sm:inline",children:s("lesson.next")}),e.jsx(Xe,{size:16})]})]}),e.jsxs("button",{onClick:He,className:`group font-bold py-3 px-8 rounded-xl flex items-center gap-2 transition-all transform hover:scale-[1.02] active:scale-95 shadow-lg border border-white/10 ${Q?a?"bg-gaming-pink hover:bg-gaming-pink/80 text-white shadow-gaming-pink/25":"bg-gaming-primary hover:bg-gaming-primary/80 text-white shadow-gaming-primary/25":"bg-gaming-card/60 text-gaming-textMuted cursor-not-allowed"}`,children:[a?e.jsx(se,{size:20}):e.jsx($e,{size:20}),e.jsx("span",{children:s(a?"lesson.viewTest":"lesson.takeTest")}),!Q&&e.jsx(R,{size:16,className:"text-yellow-400"})]})]})]}),e.jsxs(K.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-md",children:e.jsx(ke,{size:40,className:"text-gaming-primary animate-spin"})}),children:[J&&m&&e.jsx(ss,{slides:E,lessonId:l,onClose:()=>V(!1),onSlideView:oe}),Ie&&(a?e.jsx(is,{questions:re,lang:d,onClose:()=>X(!1)}):e.jsx(ts,{questions:re,lessonId:l,lang:d,onClose:()=>X(!1),onComplete:We}))]})]})},hs=Object.freeze(Object.defineProperty({__proto__:null,default:rs},Symbol.toStringTag,{value:"Module"}));export{hs as L,Ze as R,es as r};
