import{r as h,j as e,X as C}from"./index-DRfO7QNx.js";import{r as b}from"./LessonPage-CRuSMgAq.js";import{E as p}from"./eye-off-DyCTa7pX.js";import{E as u}from"./eye-DijbaegS.js";import{C as j}from"./check-circle-DbkDMSwU.js";import"./CourseLayout-p4e9S4D6.js";import"./SyllabusContext-x_XbzDWO.js";import"./home-C7kFw3rz.js";import"./katex-BMcjISZR.js";import"./video-GjhmAmWB.js";import"./chevron-left-DH9hOaJo.js";const L=({questions:l,lang:r,onClose:f})=>{const[o,w]=h.useState(!1),[N,m]=h.useState({});if(!l||l.length===0)return null;const v=t=>{m(i=>({...i,[t]:!i[t]}))},y=()=>{const t=!o;w(t);const i={};l.forEach(n=>i[n.id]=t),m(i)},k=t=>{const i=r==="tj"&&t.textTj||t.textRu;return b(i||"")},c=t=>{const i=r==="tj"&&t.textTj||t.textRu;return b(i||"")};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-4xl bg-gaming-card/95 rounded-3xl border border-white/10 my-8 shadow-2xl flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10 shrink-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:r==="ru"?"Режим учителя: Просмотр теста":"Реҷаи омӯзгор: Дидани тест"}),e.jsxs("p",{className:"text-gaming-textMuted text-sm",children:[l.length," ",r==="ru"?"вопросов":"савол"]})]}),e.jsx("button",{onClick:f,className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(C,{size:24})})]}),e.jsx("div",{className:"p-4 bg-black/20 border-b border-white/5 flex justify-between items-center shrink-0",children:e.jsxs("button",{onClick:y,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all ${o?"bg-gaming-primary text-white":"bg-white/10 text-gaming-textMuted hover:text-white"}`,children:[o?e.jsx(p,{size:18}):e.jsx(u,{size:18}),o?r==="ru"?"Скрыть все ответы":"Пинҳон кардани ҷавобҳо":r==="ru"?"Показать все ответы":"Нишон додани ҷавобҳо"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:l.map((t,i)=>{const n=N[t.id];return e.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-start gap-4 mb-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-gaming-pink/10 text-gaming-pink rounded-lg flex items-center justify-center font-bold text-sm border border-gaming-pink/20",children:i+1}),e.jsx("div",{className:"text-lg font-medium text-white pt-1 prose prose-invert max-w-none [&>p]:inline [&>p]:m-0",dangerouslySetInnerHTML:{__html:k(t)}}),t.image&&e.jsx("div",{className:"mt-2 rounded-lg overflow-hidden border border-white/10 bg-black/20 max-w-md",children:e.jsx("img",{src:t.image,alt:"Question",className:"w-full h-auto object-cover"})})]}),e.jsx("button",{onClick:()=>v(t.id),className:`p-2 rounded-lg transition-colors ${n?"text-gaming-primary bg-gaming-primary/10":"text-gaming-textMuted hover:bg-white/5"}`,title:r==="ru"?"Показать/Скрыть ответ":"Нишон додан/Пинҳон кардан",children:n?e.jsx(p,{size:20}):e.jsx(u,{size:20})})]}),e.jsxs("div",{className:"transition-all duration-300",children:[t.type==="multiple_choice"&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 pl-11",children:t.options.map((s,a)=>{const d=s.id===t.correctId&&n;return e.jsxs("div",{className:`p-3 rounded-xl border flex items-center gap-3 transition-all duration-300 ${d?"bg-green-500/10 border-green-500/30 text-green-400 font-bold":"bg-black/20 border-white/5 text-gaming-textMuted"}`,children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs transition-colors ${d?"bg-green-500 text-white":"bg-white/10"}`,children:String.fromCharCode(65+a)}),e.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:c(s)}}),s.image&&e.jsx("div",{className:"rounded-lg overflow-hidden border border-white/10 bg-black/20 max-w-[150px]",children:e.jsx("img",{src:s.image,alt:"Option",className:"w-full h-auto object-cover"})})]}),d&&e.jsx(j,{size:16,className:"ml-auto animate-in zoom-in duration-300 shrink-0"})]},s.id)})}),t.type==="matching"&&e.jsxs("div",{className:"pl-11 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gaming-textMuted uppercase mb-2",children:r==="ru"?"Элементы":"Элементҳо"}),t.leftItems.map((s,a)=>e.jsxs("div",{className:"mb-2 text-sm flex gap-2 items-baseline",children:[e.jsxs("span",{className:"text-gaming-pink font-bold",children:[String.fromCharCode(65+a),")"]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-white/80",dangerouslySetInnerHTML:{__html:c(s)}}),s.image&&e.jsx("img",{src:s.image,alt:"Item",className:"w-16 h-16 object-cover rounded-md border border-white/10"})]})]},s.id))]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gaming-textMuted uppercase mb-2",children:r==="ru"?"Определения":"Таърифҳо"}),t.rightItems.map((s,a)=>e.jsxs("div",{className:"mb-2 text-sm flex gap-2 items-baseline",children:[e.jsxs("span",{className:"text-gaming-accent font-bold",children:[a+1,")"]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-white/80",dangerouslySetInnerHTML:{__html:c(s)}}),s.image&&e.jsx("img",{src:s.image,alt:"Item",className:"w-16 h-16 object-cover rounded-md border border-white/10"})]})]},s.id))]})]}),n&&e.jsxs("div",{className:"p-4 bg-green-500/5 border border-green-500/20 rounded-xl animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsx("p",{className:"text-sm text-green-400 font-bold mb-2",children:r==="ru"?"Правильные пары:":"Ҷуфтҳои дуруст:"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(t.correctMatches).map(([s,a])=>{const g=t.leftItems.findIndex(x=>x.id===s),d=t.rightItems.findIndex(x=>x.id===a);return e.jsxs("span",{className:"px-2 py-1 bg-green-500/10 rounded border border-green-500/20 text-sm",children:[String.fromCharCode(65+g)," — ",d+1]},s)})})]})]}),t.type==="numeric"&&e.jsx("div",{className:"pl-11",children:e.jsxs("div",{className:"inline-flex items-center gap-3 px-4 py-2 bg-green-500/5 border border-white/5 rounded-xl transition-all duration-300",children:[e.jsx("span",{className:"text-sm text-gaming-textMuted",children:r==="ru"?"Ответ:":"Ҷавоб:"}),e.jsx("span",{className:`text-xl font-bold tracking-widest transition-all duration-300 ${n?"text-green-400":"text-white/20"}`,children:n?t.digits.join(""):"****"}),t.unit&&e.jsx("span",{className:"text-gaming-textMuted",children:t.unit}),n&&e.jsx(j,{size:16,className:"text-green-400 animate-in zoom-in"})]})})]})]},t.id)})})]})})};export{L as default};
