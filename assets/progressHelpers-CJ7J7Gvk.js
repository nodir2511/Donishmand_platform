const g=r=>{try{const t=JSON.parse(localStorage.getItem(`test_history_${r}`)||"[]");if(!t||t.length===0)return null;const e=t.length,s=Math.max(...t.map(c=>c.score)),o=t.reduce((c,l)=>c+l.score,0)/e,a=Math.round(100-o),n=t[t.length-1].timestamp;return{totalAttempts:e,bestScore:s,avgErrorRate:a,avgScore:o,lastAttemptAt:n}}catch(t){return console.error("Error parsing lesson stats:",t),null}},u=r=>{if(!r||r.length===0)return null;let t=0,e=0;if(r.forEach(a=>{const n=g(a);n&&(t+=n.avgScore,e++)}),e===0)return null;const s=t/e,o=Math.round(100-s);return{completedLessons:e,totalLessons:r.length,avgErrorRate:o}};export{g as a,u as g};
